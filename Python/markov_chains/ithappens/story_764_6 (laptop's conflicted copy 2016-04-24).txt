
Купили мы в фирму большой и красивый одноюнитовый NAS от компании Emc. Начинка дебианоподобная, есть навороченный веб-интерфейс управления. В один прекрасный момент веб-интерфейса стало не хватать, и руки потянулись к консоли. Удалённо не вышло, поскольку SSH не поднят, поэтому воздействовали напрямую, подцепив монитор.Пробуем ввести юзера и пароль из веб-интерфейса — неверно. Достаем документацию к железке — там про доступ в консоль вообще ничего. Лезем в интернет и обнаруживаем информацию, что пускает только под рутом, и пароль у него тот, что у самого первого пользователя веб-интерфейса. Пробуем — результата нет.Ищем дальше. Находим в кэше Гугла на давно умершем сайте информацию, что в некоторых моделях Emc для рута используется пароль soho. Не работает.Чешем затылок, отхлёбываем пива, думаем. Сбрасываем на заводские настройки и пробуем пробрутить найденными комбинациями. root:soho подходят, приглашая в консоль. На радостях настраиваем SSH, проверяем, коннектимся — всё прекрасно. Лезем в веб-интерфейс, создаём юзеров и идём по домам.На следующий день выясняется, что по SSH не пускает. Цепляем монитор, клавиатуру. Пробуем так — не пускает. Что за чёрт? Сбрасываем настройки снова, пробуем root и soho — мы внутри. Создаём пользователей в веб-интерфейсе — перестаёт пускать. Так вот где собака зарыта!В итоге сделали финт ушами. Сбросили настройки, зашли в консоль, подняли SSH, залогинились. Затем в веб-интерфейсе создали пользователей, после чего в сохранённой сессии ввели passwd root и поставили свой пароль. Для верности перезагрузились — всё работает, всех впускает.И ведь в инструкции к железяке ни единого упоминания ни о пароле рута по умолчанию, ни о таком хитром отлучении от консоли после посягательств на веб-интерфейс. Хочется пожелать разработчикам подобной техники закрыться в подвале без ключа — может, поумнеют?


