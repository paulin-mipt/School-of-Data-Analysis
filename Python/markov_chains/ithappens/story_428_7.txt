
Уезжал я как-то на пару недель в отпуск в другой город. И стационарный компьютер, и интернет там были, но хотелось быть постоянно в курсе, как там поживает домашняя машина. Оставлять её постоянно включённой не хотелось: и счёт за электричество набежит, и особенной нужды в работе 24×7 нет. Но что делать, если захочется скачать пару альбомов из домашней mp3-коллекции или поглядеть, что происходит в комнате, через веб-камеру? Нужен был хоть какой-то метод удалённого включения.Решить проблему «в лоб» через Wake-on-LAN не получилось: хоть выделенный IP и был, роутер терял MAC-адрес сетевушки минут через пять после выключения машины, и «волшебным пакетом» её через интернет поднять никак не получалось. Ставить DD-WRT на старенький роутер не поднималась рука — тот уже давно с трудом переживал любую перепрошивку.В итоге получилось следующая шпионская связка:1. На машине уже крутится FTP-сервер. Окей, так и будем забирать инфу.2. Делаем проброс на роутере на веб-камеру. Так и будем смотреть.3. Мейл-сервер на машине тоже крутится. Будем использовать для оповещения.4. До кучи — конечно же, входящий RDP, куда же без него.5. В планировщике создаём задачу запуска хитрого скрипта три раза в день с выводом машины из спящего режима.Три раза в день срабатывала задача «пробудиться из спячки для запуска скрипта». Машина, зевая, поднималась, отсылала через скрипт на указанный e-mail письмо с заголовком «Master, I'm awake!», десять минут покалывала себя в бок через ping localhost, после чего при отсутствии внимания к себе опять сладко засыпала. Я же три раз в день ждал очередного письма.Радистка Кэт и каналы связи за две недели ни разу не подвели, да и отпуск удался.


