
Некоторое время назад я, бородатый и свитератый линукс-админ, решил оптимизировать дисковое пространство, обьединив два винта в одну группу LVM. Для этого на работе был позаимствован винт с ёмкостью, достаточной для временного хранения всех данных вместе с системой.Не так давно возникла горячая потребность в LiveUSB-системе: таскать с собой диски неудобно, да и не везде есть приводы. Собрав образ системы, лёгким движением dd я влил его на флешку. Первое подозрение закралось, когда я увидел скорость, с которой была выполнена операция. Внезапно система выдала несколько жалоб на дисковую подсистему.После перезагрузки меня ждали жалобы на отсутствие физического тома. Подумав о сбое старого винта, я загрузился с LiveCD с намерением пройтись testdisk, fsck и прочими инструментами восстановления. Когда я обнаружил на втором винте раздел размером в полгигабайта, на котором висела до боли знакомая метка DEBIAN_LIVE, я облился холодным потом и мысленно похоронил пару гигабайтов данных, которые ни разу не попали в список резервирования. В срочном порядке был расчехлён ноут и опрошен Гугл. Восстановить структуру томов удалось, но файловые системы были покрошены в капусту. Не удавалось достучаться ни до одного из резервных суперблоков.Придя на следующий день на работу, я вспомнил о том винте, куда складывал данные при миграции. Уже не надеясь на чудо (есть у меня привычка: перед возвращением «на склад» проводить низкоуровневое форматирование), я воткнул его в одну из свободных машин. Радости не было предела: на диске лежала полная копия системы и всех документов двухнедельной давности.


