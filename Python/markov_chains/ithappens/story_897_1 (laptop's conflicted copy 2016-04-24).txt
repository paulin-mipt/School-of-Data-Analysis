
Обычный день в сетевом отделе университета. Попиваю чаёк, наблюдая за коммутаторами D-Link, которые повадились зависать. Как говорится, ничто не предвещает беды.Заходит шеф — весёлый такой, улыбается. Говорит отделу: «Вот видите флешку?» Показывает — ну да, обычная флешка. А вот не совсем: при подключении к компу определяется как USB floppy disk drive.Раз уж попался такой интересный экземпляр, решили его исследовать. Потыкали в сервак на FreeBSD и в ноут с OS X — осознали, что всё-таки дело не в «проклятой винде», а в контроллере, который почему-то захотел «сменить имидж».Дома продолжил мучить этого зверя. Попытки восстановить флешку утилитой с сайта производителя ничего не дали — она просто считала, что носителя нет. После длительного гугления выяснилось, что контроллер флешки умеет работать в так называемом тестовом режиме, и чтобы в него попасть, надо замкнуть две ноги. Какие именно, подсказал только даташит на контроллер.Где-то через два часа после начала поисков флешка таки была запущена в тестовом режиме, после чего та самая утилита с сайта производителя подхватила её и предложила вправить мозги. Через несколько секунд флешка радостно замигала лампочками, а утилита сказала: «Забирайте ваше барахло». Флешка-трансвестит снова стала нормальной.На следующий день принёс в отдел, показал, рассказал, удивил. И с чего эта сумасшедшая флешка решила, что она флопик, а не что-то ещё?


