
Работал я в частной фирмочке менеджером, сисадмином, сетевиком, примусоспасателем и даже грузчиком. 120 кг живого веса и пять лет мелкого админства использовались по максимуму. Был у меня напарник — прогер, 50 кг весу. Смотрелись вместе мы весьма забавно.Поступает заказ: поставить сервер, на котором будет крутится жёлтое отродье. Денег не жалеем в разумных пределах. Прикинув мощности (около 20 машин) и скудные щедрости газетки, для которой это и делалось, остановили выбор на мощной, пусть и не серверной машинке с четырёхголовым мутантом, 8 ГБ озы и парой SATA-винтов по 500 ГБ с рейд-контроллером (набордовые обычно не славятся надёжностью). Всё лицензионное донельзя. Собираем, ставим, тестим — зверь, а не комп! Везём заказчику, наливаем 1С, подключаем клиентов, проверяем с разных машин — всё тихо и бодро жужжит. Радостно отваливаем отдыхать и пить пиво.Радость закончилась одновременно с приходом утреннего похмелья:— Срочно приезжайте, ничего не работает!— Что не работает-то?— Все! Точнее, всё работает, но очень медленно. Так жить нельзя!Мы в недоумении: вчера же тестировали, всё летало. Приезжаем к заказчикам — действительно, больше пяти пользователей подключаются — и элементарные операции растягиваются на пять минут.Мы тоже кулхацкеры, мы тоже, блин, думать умеем. Ставим вторую сетевуху, настраиваем маршрутизатор (откуда 16-портовый гигабитный зверь у них, не помнит даже бухгалтерия), подключаем, офигеваем: загрузка сети — 17%, четырёх ядер — по 15%, памяти — 28%. Виснет, как и прежде. Возвращаю всё назад, звоню жёлтым умникам, объясняю, что хочу. Советуют переставить 1С, ОС, дрова и руки. Объясняю, что всё уже проделали, кроме рук, ибо жалко гробить творение Мастера. Обещают прислать мальчика.На следующий день приезжает обещанный мальчик. Весь день чешет репу, пляшет с каким-то подобием кодерского бубна, офигевает вместе с нами, уезжает — всё висит, как и прежде. Продолжаются эти танцы вокруг сервера с гуглением по ночам трое суток. Дирекция газетки звереет, мы тоже, на мальчика вообще смотреть страшно.Когда все уже истощили идеи и рабочую неделю, во время распивания тяпничного пива звонит мальчик и с истерическим хихиканьем изрекает:— А попробуйте поставить туда видеокарту хорошую!У нас глаза по старому русскому рублю, но «хи-хи» мальчика настораживает. Мчусь с пивом к знакомым поставщикам, правдой, неправдой и пивом уговариваю выдать мне недешёвую 8800GT. Созваниваюсь с газетой — там как раз собираются выходить в субботу добивать работу в базе, набравшуюся из-за тормозов. Отлично!Утром едем туда, втыкаем видюху, наливаем дрова, поднимаем базу, даём бухам отмашку. И тут происходит неожиданное: всё летает, любая команда отрабатывается за секунду, отчёт формируется за дюжину секунд, а не минут. Бухи оргазмируют, мы фигеем.Открываю удаленный доступ, еду пить пиво и думать. Дома захожу удалённо, начинаю проверять статистику загрузки монстра: 15%/15%/15%/15% проц, 27% память, 23% сеть… Стоп! 15% проц! Уже несколько часов! Открываю утилю видюхи и падаю под стол с истерическим хохотом. Загрузка проца 8800-й — 78%!Оказывается, странно написанная жёлтая фигня не умела корректно работать с четырёхголовыми мутантами — использовала-то все четыре ядрышка, но почему-то только на 15% мощности. Увидев же могучую 8800 с заветной CUDA, 1С набросилась на неё со всем остервенением. Гугление на эту тему не дало ничего, а саппорт развёл руками и спросил: «Работает же, чё вам не нравится?»С желтошкурыми думать не надо. Медитировать, общаться с высшими материями, — что угодно, но только не думать.


