
Есть у меня знакомый, который занимается 1С. Недавно к нему пришла довольно крупная производственная компания, которая решила устроить для своих дилеров приём заказов через сайт. Знакомый взял широко известную в узких кругах CMS, которая славна интеграцией с жёлтой программой, развернул сайт, натянул дизайн, создал каталог, в паре с айтишниками компании настроил и отладил загрузку заказов с сайта в тестовую базу. Всё работает, не фонит и переливается — можно запускать. Перенесли все настройки в рабочую базу. Менеджеры счастливы, руководство радо, дилеры довольны.Проходит какое-то время, и моему знакомому звонит айтишник компании: «Заказы теряются: на сайте заказ виден, в 1С не появляется». В течение пары недель знакомый много раз просматривает код и со стороны сайта, и со стороны 1С, правит несколько подозрительных мест — не помогает. Знакомый обвешивает весь код логами. В логе сайта видно, как формируются аккуратные XML со всеми заказами. В логе 1С видно, что приходит только часть XML-ников. Где они могут теряться по дороге? 1C их получает банальным HTTP-запросом. Связь стабильная, прокси не при делах. Мистика. Тут моему знакомому что-то ударяет в мозжечок:— Ребят, а тестовая база у нас работает?— Ага, мы в ней начисление зарплаты тестируем, — гордо отвечают айтишники.— А загрузка с сайта в ней как настроена?— А как оставили после отладки, так и настроена: автоматическая, по расписанию.В соответствии с расписанием тестовая база приходила на сайт и забирала заказы. Потом появлялась рабочая база, а сайт говорил ей: «Родная, новых заказов нет, а старые я уже отдала».


