
Девяносто дремучий год. Огромный по тем временам супермаркет. 3000 квадратных метров, 4000 наименований товаров. Сеть на коаксиале, клиент-серверная система (фронт-энд на новомодной на тот момент Delphi, бэк-энд — SQL-база) и я, молодой админ. Кассы — обычные PC под девяносто пятой виндой. Это сейчас сети супермаркетов, специализированные POS-устройства, а по тем временам сканер штрих-кодов можно было увидеть либо в зарубежных фильмах, либо у нас. Бизнес шёл неплохо, с размахом: под праздники образовывались очереди во все двадцать касс.Что я делал на той кассе в тот день, за давностью лет совершенно не помню. Факт заключается в том, что я, закончив, просто уступил место кассиру, не сделав злополучный логаут. Под админскими правами интерфейс не сильно-то и отличался, особенно в той части, с которой работал кассир. Как показало расследование, было там окошко ручного ввода цифрового значения штрих-кода, если вдруг сканер сбоит или код плохо пропечатан. Набираешь первые цифры кода или первые буквы названия товара, в окошке высвечивается список товаров, и нужный можно выбрать мышкой или с клавиатуры. Красота! А вот если нажать клавишу Del, выскакивает диалог: «Вы действительно хотите удалить бла-бла-бла?» Кто будет читать, что там написано, когда очередь над душой? А база-то реляционная…Да, товар каскадом удалился из всех расходных и приходных накладных. Приходные-то — бог с ними, за пять минут восстановили. А вот с продажами вышел ой. Немного повезло, что товар был новый, три недели как закупленный; не повезло, что ходовой. В итоге подняли тысячи накладных, все продажи за эти недели, и сверяли суммы, пропечатанные на бумаге, с суммами накладных в компьютере. Дюжина девчонок осталась после смены и занималась дурной работой. К чести моей и IT-отдела могу сказать, что бэкап за прошлую ночь был, но забивать расходы-приходы за день вышло бы ещё дольше.Самое смешное, что меня никто не винил. В народном сознании крайней и виноватой оказалась бедная девочка-кассир — то ли от компьютерной безграмотности, то ли у меня были со всеми отношения хорошие. Самому ходить разъяснять народу, что виноват я и только я, было бы ужасно глупо. Я так и не узнал, сколько часов та смена кассиров фиксила проблему. До сих пор как вспомню — перед людьми неудобно.


