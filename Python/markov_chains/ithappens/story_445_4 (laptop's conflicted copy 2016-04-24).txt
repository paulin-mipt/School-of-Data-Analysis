
Работаю в аутсорсинговой компании: оказываем услуги системного администрирования, настраиваем мини-АТС в одном из бизнес-центров.Сегодня к нам поступила на поддержку очередная компания. Пришёл посмотреть, что у них там и с чем едят. Историю о настройке NX-клиента для подключения к терминалу 1С под Вайном на линуксе я, пожалуй, опущу. Расскажу о записке, оставленной прошлым админом.* * *Зашифрованная база 1С находится в скрытом TrueCrypt-контейнере, представляющем собой зашифрованный файл в папке /home/le (весит пять гигов). Контейнер монтируется при помощи подготовленной флешки в терминальной сессии пользователя admin (или любого другого, если понадобится). Запускаемый файл — start.sh, все скрипты реализованы на Perl и Bash.Скрипты копируются с флешки в папку /scripts, подменяют crontab (для старта и контроля) и gdm (для очистки компьютера от следов монтирования базы). При этом отслеживается наличие файла readme.txt в папке общих документов: при его отсутствии происходит отмонтирование шифрованного диска и очистка следов. При перезагрузке сервера все подозрительные скрипты удаляются.* * *Вот такие дела. Автор этой системы явно хотел унизить Кощея со своей иголочкой в яйце. Чуть не забыл: компания занимается поставкой детских товаров.


