
Попросил я как-то друга скинуть мне через онлайн-мессенджер пачку фотографий. Друг решил не обременять себя упаковкой этого счастья в архив, а просто перетащил в окошко мессенджера папку с фотками, и на выходе я получил здоровенный список ссылок на странички файлового сервера.Естественно,никакого желания идти по каждой ссылочке и давить кнопку «скачать» у меня не было. Решил набросать простенький парсер. Он получал контент страницы по ссылке и дёргал линк на картинку — мегабит позволял. Я выдал скрипту set_time_limit(0) и ушёл курить.Спустя 20 минут выяснилось, что не была обработана и половина ссылок. Решив проверить линки, я забросил их в менеджер закачек и офигел. Качаться не хотел ни один файл; более того, ссылки не хотели открываться и в браузере. Решив, что на файловом серваке меня забанили по IP, я полез искать список проксей.Тут началось самое интересное. Браузер не хотел открывать ни одной страницы и тормозил всё больше и больше. Чтобы открыть диспетчер задач, мне пришлось смотреть на тормозящую панель задач минут пять. В процессах добрый гиг памяти и одно из двух ядер были полностью забиты… файрволом.Оказалось, сетевой экран (вполне известный и уважаемый) настолько офигел от числа открытых соединений, что сожрал все ресурсы системы, пытаясь отфильтровать трафик и вычислить безобидный Апач, и этим подвесил ОС и весь интернет-канал. Кто бы мог подумать, что известный файрвол так легко свалить простым скриптом?


